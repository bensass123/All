<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>regex</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<!-- <link rel="stylesheet" type="text/css" href="assets/css/style.css"> -->
</head>

<body>


  


</body>

<script type="text/javascript">

//retrieves email domains from text

function getDomainsOfEmails(text) {
    var reg = /(@[a-z0-9._%-]+\.[a-z0-9._%-]{2,4})/g;
    var ar;
    var results = [];
    var str;
    while ((ar = reg.exec(text)) !== null) {
    	str = ar[0].replace(/@/,'');
    	results.push(str);
    	console.log('log: ' + ar[0] + ', ' + str);
    }
    return results;



}

var str = 'I get a mail from meth@yoplait.fr (by the way I thought its domain was cesi.fr), it was sent to mcourcy@experience.all, but the guys of gmail.com said we could only trust the mcourcy@gmail.com adress'
console.log(getDomainsOfEmails(str));

</script>


</html>